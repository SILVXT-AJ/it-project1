{% extends "base.html" %}

{% block title %}Dashboard - IT Department Portal{% endblock %}

{% block content %}
<style>
.dashboard-header {
    background: linear-gradient(135deg, #2575fc 0%, #6a11cb 100%);
    color: white;
    padding: 2rem 0;
    margin: -1rem -1rem 2rem -1rem;
    border-radius: 0 0 15px 15px;
}
.stats-card {
    background: white;
    border-radius: 15px;
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.1);
    padding: 1.5rem;
    text-align: center;
    border: none;
    transition: transform 0.3s ease;
}
.stats-card:hover {
    transform: translateY(-5px);
}
.stats-number {
    font-size: 2rem;
    font-weight: bold;
    color: #2575fc;
}
.nav-pills .nav-link {
    border-radius: 10px;
    margin-right: 0.5rem;
    border: 2px solid #e9ecef;
    color: #6c757d;
}
.nav-pills .nav-link.active {
    background: linear-gradient(135deg, #2575fc 0%, #6a11cb 100%);
    border-color: #2575fc;
}
.tab-content {
    background: white;
    border-radius: 15px;
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.1);
    padding: 2rem;
    margin-top: 1rem;
}
.form-control {
    border-radius: 10px;
    border: 2px solid #e9ecef;
}
.form-control:focus {
    border-color: #2575fc;
    box-shadow: 0 0 0 0.2rem rgba(37, 117, 252, 0.25);
}
.btn-primary {
    background: linear-gradient(135deg, #2575fc 0%, #6a11cb 100%);
    border: none;
    border-radius: 10px;
    padding: 0.75rem 1.5rem;
}
.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
}
</style>

<div class="dashboard-header">
    <div class="container">
        <h1 class="mb-0"><i class="bi bi-speedometer2 me-3"></i>Admin Dashboard</h1>
        <p class="mb-0 mt-2">Manage events, achievements, and study materials</p>
    </div>
</div>

<!-- Stats Row -->
<div class="row mb-4">
    <div class="col-md-4 mb-3">
        <div class="stats-card">
            <i class="bi bi-calendar-event-fill fs-1 text-primary mb-2"></i>
            <div class="stats-number">12</div>
            <div class="text-muted">Total Events</div>
        </div>
    </div>
    <div class="col-md-4 mb-3">
        <div class="stats-card">
            <i class="bi bi-trophy-fill fs-1 text-warning mb-2"></i>
            <div class="stats-number">8</div>
            <div class="text-muted">Achievements</div>
        </div>
    </div>
    <div class="col-md-4 mb-3">
        <div class="stats-card">
            <i class="bi bi-file-earmark-text-fill fs-1 text-success mb-2"></i>
            <div class="stats-number">24</div>
            <div class="text-muted">Study Materials</div>
        </div>
    </div>
</div>

<!-- Nav Pills -->
<ul class="nav nav-pills justify-content-center mb-4" id="dashboardTabs" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="events-tab" data-bs-toggle="pill" data-bs-target="#events" type="button" role="tab" aria-controls="events" aria-selected="true">
            <i class="bi bi-calendar-plus me-2"></i>Post Event
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="achievements-tab" data-bs-toggle="pill" data-bs-target="#achievements" type="button" role="tab" aria-controls="achievements" aria-selected="false">
            <i class="bi bi-trophy me-2"></i>Post Achievement
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="materials-tab" data-bs-toggle="pill" data-bs-target="#materials" type="button" role="tab" aria-controls="materials" aria-selected="false">
            <i class="bi bi-cloud-upload me-2"></i>Upload Material
        </button>
    </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade show active" id="events" role="tabpanel" aria-labelledby="events-tab">
        <h4 class="mb-4"><i class="bi bi-calendar-plus text-primary me-2"></i>Add New Event</h4>
        <form method="POST" action="{{ url_for('add_event') }}">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="event_title" class="form-label fw-semibold">Event Title</label>
                    <input type="text" name="title" class="form-control" id="event_title" placeholder="Enter event title" required>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="event_date" class="form-label fw-semibold">Event Date</label>
                    <input type="date" name="event_date" class="form-control" id="event_date" required>
                </div>
            </div>
            <div class="mb-3">
                <label for="event_description" class="form-label fw-semibold">Event Description</label>
                <textarea name="description" class="form-control" id="event_description" rows="4" placeholder="Describe the event..."></textarea>
            </div>
            <button type="submit" class="btn btn-primary">
                <i class="bi bi-plus-circle me-2"></i>Add Event
            </button>
        </form>
    </div>

    <div class="tab-pane fade" id="achievements" role="tabpanel" aria-labelledby="achievements-tab">
        <h4 class="mb-4"><i class="bi bi-trophy text-warning me-2"></i>Add New Achievement</h4>
        <form method="POST" action="{{ url_for('add_achievement') }}">
            <div class="mb-3">
                <label for="achievement_title" class="form-label fw-semibold">Achievement Title</label>
                <input type="text" name="title" class="form-control" id="achievement_title" placeholder="Enter achievement title" required>
            </div>
            <div class="mb-3">
                <label for="achievement_content" class="form-label fw-semibold">Achievement Description</label>
                <textarea name="content" class="form-control" id="achievement_content" rows="4" placeholder="Describe the achievement..."></textarea>
            </div>
            <div class="mb-3">
                <label for="image_url" class="form-label fw-semibold">Image URL (Optional)</label>
                <input type="url" name="image_url" class="form-control" id="image_url" placeholder="https://example.com/image.jpg">
            </div>
            <button type="submit" class="btn btn-primary">
                <i class="bi bi-plus-circle me-2"></i>Add Achievement
            </button>
        </form>
    </div>

    <div class="tab-pane fade" id="materials" role="tabpanel" aria-labelledby="materials-tab">
        <h4 class="mb-4"><i class="bi bi-cloud-upload text-success me-2"></i>Upload Study Material</h4>
        <form method="POST" action="{{ url_for('add_material') }}">
            <div class="row">
                <div class="col-md-8 mb-3">
                    <label for="material_title" class="form-label fw-semibold">Material Title</label>
                    <input type="text" name="title" class="form-control" id="material_title" placeholder="Enter material title" required>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="subject" class="form-label fw-semibold">Subject</label>
                    <input type="text" name="subject" class="form-control" id="subject" placeholder="e.g., Data Structures">
                </div>
            </div>
            <div class="mb-3">
                <label for="file_link" class="form-label fw-semibold">File Link</label>
                <input type="url" name="file_link" class="form-control" id="file_link" placeholder="https://example.com/material.pdf" required>
            </div>
            <button type="submit" class="btn btn-primary">
                <i class="bi bi-upload me-2"></i>Upload Material
            </button>
        </form>
    </div>
</div>

<div class="text-center mt-4">
    <a href="{{ url_for('logout') }}" class="btn btn-outline-danger">
        <i class="bi bi-box-arrow-right me-2"></i>Logout
    </a>
</div>
{% endblock %}
