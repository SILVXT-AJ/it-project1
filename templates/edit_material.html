{% extends "base.html" %}

{% block title %}Edit Material - IT Department Portal{% endblock %}

{% block content %}
<style>
.edit-header {
    background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
    color: white;
    padding: 6rem 0 2rem 0;
    margin: -1rem -1rem 3rem -1rem;
    border-radius: 0 0 30px 30px;
    box-shadow: 0 4px 15px rgba(56, 239, 125, 0.2);
}
.form-select, .form-control {
    border-radius: 10px;
    padding: 12px;
    border: 2px solid #f1f3f5;
    background-color: #f8f9fa;
}
.form-select:focus, .form-control:focus {
    border-color: #38ef7d;
    box-shadow: 0 0 0 0.2rem rgba(56, 239, 125, 0.2);
    background-color: white;
}
</style>

<div class="edit-header text-center">
    <div class="container">
        <h1 class="fw-bold mb-2"><i class="bi bi-book-half me-2"></i>Edit Material</h1>
        <p class="mb-0 opacity-90">Update study resources and notes</p>
    </div>
</div>

<div class="container pb-5" style="margin-top: -50px;">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card border-0 shadow-lg rounded-4 bg-white">
                <div class="card-body p-5">

                    <form method="POST">

                        <div class="mb-4">
                            <label class="form-label fw-bold text-muted text-uppercase small ls-1">Title</label>
                            <input type="text" name="title" class="form-control fw-bold fs-5" value="{{ material.title }}" required>
                        </div>

                        <div class="mb-4">
                            <label class="form-label fw-bold text-muted text-uppercase small ls-1">Subject Name</label>
                            <div class="input-group">
                                <span class="input-group-text border-0 bg-light rounded-start-3"><i class="bi bi-journal-text"></i></span>
                                <input type="text" name="subject" class="form-control" value="{{ material.subject }}" required>
                            </div>
                        </div>

                        <div class="row mb-4">
                            <div class="col-md-6">
                                <label class="form-label fw-bold text-muted text-uppercase small ls-1">Target Year</label>
                                <select name="target_year" class="form-select" required>
                                    <option value="1st Year" {% if material.target_year == '1st Year' %}selected{% endif %}>1st Year</option>
                                    <option value="2nd Year" {% if material.target_year == '2nd Year' %}selected{% endif %}>2nd Year</option>
                                    <option value="3rd Year" {% if material.target_year == '3rd Year' %}selected{% endif %}>3rd Year</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label fw-bold text-muted text-uppercase small ls-1">Semester</label>
                                <select name="semester" class="form-select" required>
                                    {% for i in range(1, 7) %}
                                    <option value="{{ i }}" {% if material.semester == i|string %}selected{% endif %}>Semester {{ i }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="mb-5">
                            <label class="form-label fw-bold text-muted text-uppercase small ls-1">File Link (URL)</label>
                            <div class="input-group">
                                <span class="input-group-text border-0 bg-light rounded-start-3"><i class="bi bi-link-45deg"></i></span>
                                <input type="url" name="file_link" class="form-control text-primary" value="{{ material.file_link }}" required>
                            </div>
                            <div class="form-text mt-2"><i class="bi bi-info-circle me-1"></i> Ensure the link is public (Google Drive, Dropbox, etc.)</div>
                        </div>

                        <div class="d-flex justify-content-end gap-3">
                            <a href="{{ url_for('dashboard') }}" class="btn btn-light rounded-pill px-4 fw-bold text-muted">Cancel</a>
                            <button type="submit" class="btn btn-success rounded-pill px-5 fw-bold shadow-sm">
                                Save Changes
                            </button>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}